<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagramas UML - Sistema Cardamomo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #111111 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            color: #764ba2;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .project-info {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
        }
        
        .project-info h3 {
            color: #764ba2;
            margin-bottom: 10px;
        }
        
        .project-info ul {
            list-style: none;
            padding-left: 0;
        }
        
        .project-info li {
            padding: 5px 0;
            color: #555;
        }
        
        .project-info li:before {
            content: "ğŸ“Œ ";
            margin-right: 8px;
        }
        
        .diagram-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .diagram-section h2 {
            color: #764ba2;
            font-size: 1.8em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .diagram-section p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .diagram-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
        }
        
        .mermaid {
            text-align: center;
        }
        
        .download-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .footer {
            text-align: center;
            color: white;
            padding: 20px;
            margin-top: 30px;
        }
        
        @media print {
            body {
                background: white;
            }
            .download-btn {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š Diagramas UML - Sistema Cardamomo</h1>
            <p>Desarrollo de AplicaciÃ³n de Escritorio para GestiÃ³n de Pedidos y ProducciÃ³n</p>
            
            <div class="project-info">
                <h3>InformaciÃ³n del Proyecto</h3>
                <ul>
                    <li><strong>Empresa:</strong> Cardamomo</li>
                    <li><strong>UbicaciÃ³n:</strong> Riohacha, La Guajira, Colombia</li>
                    <li><strong>Estudiante:</strong> Daniel Nomelin Oviedo</li>
                    <li><strong>Universidad:</strong> Universitaria Agustiniana</li>
                    <li><strong>DuraciÃ³n:</strong> 36 semanas</li>
                    <li><strong>MetodologÃ­a:</strong> XP (Extreme Programming)</li>
                </ul>
            </div>
        </div>

        <!-- Diagrama 1: Casos de Uso -->
        <div class="diagram-section">
            <h2>1. Diagrama de Casos de Uso</h2>
            <p>Representa los actores del sistema (Administrador, Vendedor, Cliente, Sistema Web) y las funcionalidades principales que pueden realizar.</p>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph "Sistema Cardamomo - Casos de Uso"
        Admin[("ğŸ‘¨â€ğŸ’¼<br/>Administrador")]
        Vendedor[("ğŸ‘¤<br/>Vendedor")]
        Cliente[("ğŸ‘¥<br/>Cliente")]
        Sistema[("ğŸŒ<br/>Sistema Web")]
        
        Admin --> UC1[ğŸ“¦ Gestionar Inventario]
        Admin --> UC2[ğŸ›ï¸ Gestionar Productos]
        Admin --> UC3[ğŸ“Š Ver Reportes]
        Admin --> UC4[âš™ï¸ Configurar Sistema]
        Admin --> UC5[ğŸ‘¥ Gestionar Usuarios]
        
        Vendedor --> UC6[ğŸ“ Registrar Pedido]
        Vendedor --> UC7[ğŸ” Consultar Pedido]
        Vendedor --> UC8[ğŸ”„ Actualizar Estado]
        Vendedor --> UC9[ğŸ‘¤ Gestionar Clientes]
        
        Admin --> UC6
        Admin --> UC7
        Admin --> UC8
        
        Cliente --> UC10[ğŸ“± Consultar CatÃ¡logo]
        Cliente --> UC11[ğŸ›’ Realizar Pedido Web]
        Cliente --> UC12[ğŸ“ Seguimiento Pedido]
        
        Sistema --> UC13[ğŸ”„ Sincronizar CatÃ¡logo]
        Sistema --> UC14[ğŸ”” Notificar Pedidos]
        
        UC13 -.include.-> UC2
        UC11 -.include.-> UC14
        UC6 -.include.-> UC1
        UC3 -.extend.-> UC15[ğŸ“„ Exportar Reporte]
    end
    
    style Admin fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px
    style Vendedor fill:#4ecdc4,stroke:#0c8599,stroke-width:3px
    style Cliente fill:#95e1d3,stroke:#38d9a9,stroke-width:3px
    style Sistema fill:#ffd93d,stroke:#fab005,stroke-width:3px
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_casos_uso')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 2: Secuencia -->
        <div class="diagram-section">
            <h2>2. Diagrama de Secuencia - Registro de Pedido</h2>
            <p>Muestra la interacciÃ³n temporal entre los componentes del sistema durante el proceso de registro de un nuevo pedido.</p>
            <div class="diagram-container">
                <div class="mermaid">
sequenceDiagram
    actor Vendedor
    participant UI as ğŸ–¥ï¸ Interfaz Usuario
    participant Control as âš™ï¸ Controlador Pedidos
    participant Valid as âœ… Validador
    participant Inv as ğŸ“¦ GestiÃ³n Inventario
    participant BD as ğŸ’¾ Base de Datos
    participant Web as ğŸŒ SincronizaciÃ³n Web
    participant Notif as ğŸ”” Notificaciones
    
    Vendedor->>UI: Selecciona "Nuevo Pedido"
    UI->>Control: iniciarNuevoPedido()
    Control->>UI: mostrarFormularioPedido()
    
    Vendedor->>UI: Ingresa datos del cliente
    UI->>Valid: validarDatosCliente(datos)
    Valid-->>UI: datosValidos
    
    Vendedor->>UI: Agrega productos al pedido
    UI->>Control: agregarProducto(idProducto, cantidad)
    Control->>Inv: verificarDisponibilidad(idProducto, cantidad)
    
    alt Stock disponible
        Inv-->>Control: stockDisponible = true
        Control->>Inv: reservarProducto(idProducto, cantidad)
        Inv-->>Control: productoReservado
        Control-->>UI: productoAgregado
        UI-->>Vendedor: âœ… Producto agregado
    else Stock insuficiente
        Inv-->>Control: stockDisponible = false
        Control-->>UI: errorStockInsuficiente
        UI-->>Vendedor: âš ï¸ Stock insuficiente
    end
    
    Vendedor->>UI: Confirma pedido
    UI->>Control: confirmarPedido(datosPedido)
    Control->>Valid: validarPedidoCompleto(datosPedido)
    Valid-->>Control: pedidoValido
    
    Control->>BD: guardarPedido(pedido)
    BD-->>Control: pedidoGuardado(idPedido)
    
    Control->>Inv: actualizarInventario(productos)
    Inv->>BD: actualizarStock(productos)
    BD-->>Inv: stockActualizado
    
    par SincronizaciÃ³n Web y NotificaciÃ³n
        Control->>Web: sincronizarPedido(idPedido)
        Web->>BD: obtenerDatosPedido(idPedido)
        BD-->>Web: datosPedido
        Web-->>Control: sincronizacionExitosa
    and
        Control->>Notif: enviarNotificacion(idPedido, cliente)
        Notif-->>Control: notificacionEnviada
    end
    
    Control-->>UI: pedidoConfirmado(idPedido, total)
    UI-->>Vendedor: ğŸ‰ Pedido confirmado con Ã©xito
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_secuencia')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 3: Actividad -->
        <div class="diagram-section">
            <h2>3. Diagrama de Actividad - Proceso Completo de Pedido</h2>
            <p>Representa el flujo de actividades desde que el cliente solicita un pedido hasta su entrega final.</p>
            <div class="diagram-container">
                <div class="mermaid">
graph TD
    Start([ğŸš€ Inicio: Cliente solicita pedido]) --> A1[ğŸ“© Recibir solicitud]
    A1 --> A2{â“ Â¿Cliente<br/>registrado?}
    
    A2 -->|No| A3[ğŸ“ Registrar nuevo cliente]
    A3 --> A4[ğŸ’¾ Guardar datos]
    A4 --> A5[ğŸ†• Iniciar pedido]
    
    A2 -->|SÃ­| A5
    
    A5 --> A6[ğŸ›ï¸ Seleccionar productos]
    A6 --> A7[ğŸ”¢ Ingresar cantidad]
    
    A7 --> A8{ğŸ“¦ Â¿Stock<br/>disponible?}
    A8 -->|No| A9[âš ï¸ Notificar falta stock]
    A9 --> A10{ğŸ”„ Â¿Otro<br/>producto?}
    A10 -->|SÃ­| A6
    A10 -->|No| A11[âŒ Cancelar pedido]
    A11 --> End1([ğŸ›‘ Fin: Pedido cancelado])
    
    A8 -->|SÃ­| A12[â• Agregar al carrito]
    A12 --> A13[ğŸ’µ Calcular subtotal]
    
    A13 --> A14{â• Â¿MÃ¡s<br/>productos?}
    A14 -->|SÃ­| A6
    
    A14 -->|No| A15[ğŸ’° Calcular total]
    A15 --> A16[ğŸ“‹ Mostrar resumen]
    
    A16 --> A17{âœ… Â¿Confirmar<br/>pedido?}
    A17 -->|No| A18{âœï¸ Â¿Modificar?}
    A18 -->|SÃ­| A6
    A18 -->|No| A11
    
    A17 -->|SÃ­| A19[ğŸ’¾ Registrar en BD]
    
    A19 --> Par1{{âš¡ Procesos paralelos}}
    
    Par1 --> A20[ğŸ“¦ Actualizar inventario]
    Par1 --> A21[ğŸŒ Sincronizar web]
    Par1 --> A22[ğŸ”” Enviar notificaciÃ³n]
    
    A20 --> A23[â– Descontar stock]
    A21 --> A24[ğŸ”„ Actualizar catÃ¡logo]
    A22 --> A25[ğŸ“§ Notificar cliente]
    
    A23 --> Sync[â¸ï¸ SincronizaciÃ³n]
    A24 --> Sync
    A25 --> Sync
    
    Sync --> A26[ğŸ‘¨â€ğŸ³ Asignar producciÃ³n]
    A26 --> A27[ğŸ”„ Estado: En proceso]
    
    A27 --> A28{âœ”ï¸ Â¿ProducciÃ³n<br/>completada?}
    A28 -->|No| A29[â³ Continuar producciÃ³n]
    A29 --> A28
    
    A28 -->|SÃ­| A30[âœ… Estado: Listo]
    A30 --> A31[ğŸ“² Notificar cliente]
    A31 --> A32[ğŸ“¦ Registrar entrega]
    
    A32 --> End2([ğŸ‰ Fin: Pedido completado])
    
    style Start fill:#95e1d3,stroke:#38d9a9,stroke-width:3px
    style End1 fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px
    style End2 fill:#51cf66,stroke:#2f9e44,stroke-width:3px
    style Par1 fill:#ffd93d,stroke:#fab005,stroke-width:3px
    style A8 fill:#ff9ff3,stroke:#e64980,stroke-width:2px
    style A17 fill:#ff9ff3,stroke:#e64980,stroke-width:2px
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_actividad')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 4: ComunicaciÃ³n -->
        <div class="diagram-section">
            <h2>4. Diagrama de ComunicaciÃ³n - GestiÃ³n de Inventario</h2>
            <p>Ilustra la comunicaciÃ³n numerada entre objetos durante la actualizaciÃ³n del inventario.</p>
            <div class="diagram-container">
                <div class="mermaid">
graph LR
    Admin[("ğŸ‘¨â€ğŸ’¼<br/>Administrador")]
    UI["ğŸ–¥ï¸<br/>Interfaz Usuario"]
    CtrlInv["âš™ï¸<br/>Controlador<br/>Inventario"]
    BD[("ğŸ’¾<br/>Base de<br/>Datos")]
    Valid["âœ…<br/>Validador"]
    Web["ğŸŒ<br/>SincronizaciÃ³n<br/>Web"]
    Notif["ğŸ””<br/>Sistema<br/>Alertas"]
    
    Admin -->|"1: solicitarActualizacionStock()"| UI
    UI -->|"2: actualizarStock(producto, cantidad)"| CtrlInv
    
    CtrlInv -->|"3: validarDatos(producto)"| Valid
    Valid -->|"4: datosValidados âœ…"| CtrlInv
    
    CtrlInv -->|"5: obtenerStockActual(idProducto)"| BD
    BD -->|"6: stockActual ğŸ“Š"| CtrlInv
    
    CtrlInv -->|"7: calcularNuevoStock() ğŸ”¢"| CtrlInv
    
    CtrlInv -->|"8: guardarNuevoStock(producto, nuevoStock)"| BD
    BD -->|"9: stockActualizado âœ…"| CtrlInv
    
    CtrlInv -->|"10: verificarStockMinimo(producto)"| CtrlInv
    
    CtrlInv -.->|"11: [stockBajo] generarAlerta(producto) âš ï¸"| Notif
    Notif -.->|"12: alertaEnviada ğŸ“§"| CtrlInv
    
    CtrlInv -->|"13: sincronizarCatalogo(producto)"| Web
    Web -->|"14: actualizarWeb(producto)"| BD
    BD -->|"15: webActualizada ğŸŒ"| Web
    Web -->|"16: sincronizacionExitosa âœ…"| CtrlInv
    
    CtrlInv -->|"17: confirmarActualizacion()"| UI
    UI -->|"18: mostrarConfirmacion() ğŸ‰"| Admin
    
    style Admin fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px
    style UI fill:#4ecdc4,stroke:#0c8599,stroke-width:3px
    style CtrlInv fill:#ffd93d,stroke:#fab005,stroke-width:3px
    style BD fill:#95e1d3,stroke:#38d9a9,stroke-width:3px
    style Valid fill:#a8e6cf,stroke:#51cf66,stroke-width:3px
    style Web fill:#c7ceea,stroke:#5c7cfa,stroke-width:3px
    style Notif fill:#ffb7b2,stroke:#ff6b6b,stroke-width:3px
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_comunicacion')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 5: Estados -->
        <div class="diagram-section">
            <h2>5. Diagrama de MÃ¡quina de Estados - Ciclo de Vida del Pedido</h2>
            <p>Muestra todos los estados posibles de un pedido y las transiciones entre ellos.</p>
            <div class="diagram-container">
                <div class="mermaid">
stateDiagram-v2
    [*] --> Solicitado: ğŸ“ Cliente realiza pedido
    
    Solicitado --> Validando: ğŸ” Verificar disponibilidad
    
    Validando --> Rechazado: âŒ Stock insuficiente
    Validando --> Confirmado: âœ… Stock disponible
    
    Rechazado --> [*]: ğŸ“§ Notificar cliente
    
    Confirmado --> EnProduccion: ğŸ‘¨â€ğŸ³ Asignar a producciÃ³n
    Confirmado --> Cancelado: ğŸš« Cliente cancela
    
    state EnProduccion {
        [*] --> Preparando: ğŸ“‹ Iniciar
        Preparando --> Elaborando: ğŸ”¥ Cocinar
        Elaborando --> Empaquetando: ğŸ“¦ Finalizar
        Empaquetando --> [*]: âœ… Empaquetar
    }
    
    EnProduccion --> Listo: ğŸ‰ ProducciÃ³n completada
    EnProduccion --> Cancelado: âš ï¸ Problema en producciÃ³n
    
    Listo --> EnCamino: ğŸšš Iniciar entrega
    Listo --> Cancelado: ğŸ“µ Cliente no disponible
    
    EnCamino --> Entregado: ğŸ“¦ Cliente recibe
    EnCamino --> EnCamino: ğŸ”„ Reintento
    EnCamino --> Cancelado: âŒ Entrega fallida
    
    Entregado --> Completado: âœ… Confirmar recepciÃ³n
    
    Completado --> [*]: ğŸ Cerrar pedido
    
    Cancelado --> [*]: ğŸ“ Registrar cancelaciÃ³n
    
    note right of Solicitado
        ğŸ“ Estado inicial
        Datos bÃ¡sicos registrados
    end note
    
    note right of Confirmado
        ğŸ“¦ Stock reservado
        ğŸ’³ Pago procesado
    end note
    
    note right of EnProduccion
        ğŸ‘¨â€ğŸ³ En elaboraciÃ³n
        ğŸš« No cancelable
    end note
    
    note right of Completado
        âœ… Finalizado exitosamente
        ğŸ“Š Inventario actualizado
    end note
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_estados')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 6: Tiempo -->
        <div class="diagram-section">
            <h2>6. Diagrama de Tiempo - SincronizaciÃ³n del Sistema</h2>
            <p>Visualiza la lÃ­nea temporal de procesamiento y sincronizaciÃ³n entre componentes.</p>
            <div class="diagram-container">
                <div class="mermaid">
gantt
    title ğŸ• Diagrama de Tiempo - SincronizaciÃ³n y Procesamiento de Pedido
    dateFormat ss
    axisFormat %S seg
    
    section ğŸ‘¥ Cliente Web
    Navegar catÃ¡logo            :active, web1, 00, 5s
    Seleccionar productos       :active, web2, 05, 8s
    Confirmar pedido            :crit, web3, 13, 2s
    Esperar confirmaciÃ³n        :web4, 15, 10s
    Recibir confirmaciÃ³n        :done, web5, 25, 2s
    
    section ğŸ–¥ï¸ App Escritorio
    Estado inactivo             :idle1, 00, 13s
    Recibir solicitud web       :active, app1, 13, 2s
    Validar datos               :active, app2, 15, 3s
    Verificar inventario        :crit, app3, 18, 3s
    Registrar pedido            :active, app4, 21, 2s
    Actualizar inventario       :active, app5, 23, 2s
    Enviar confirmaciÃ³n         :done, app6, 25, 2s
    Asignar producciÃ³n          :app7, 27, 3s
    
    section ğŸ’¾ Base de Datos
    Estado inactivo             :idle2, 00, 15s
    Consultar stock             :active, db1, 18, 2s
    Guardar pedido              :crit, db2, 21, 2s
    Actualizar inventario       :active, db3, 23, 2s
    Sincronizar web             :active, db4, 25, 3s
    Registrar estado            :db5, 28, 2s
    
    section ğŸŒ Sistema Web
    Mostrar catÃ¡logo            :active, sync1, 00, 13s
    Procesar solicitud          :active, sync2, 13, 2s
    Esperar respuesta           :sync3, 15, 10s
    Actualizar estado           :crit, sync4, 25, 2s
    Notificar cliente           :done, sync5, 27, 2s
    Actualizar catÃ¡logo         :sync6, 29, 2s
    
    section ğŸ”” Notificaciones
    Sistema inactivo            :idle3, 00, 25s
    Preparar notificaciÃ³n       :active, notif1, 25, 2s
    Enviar email/SMS            :crit, notif2, 27, 3s
    Confirmar envÃ­o             :done, notif3, 30, 1s
                </div>
            </div>
            <button class="download-btn" onclick="downloadDiagram(this, 'diagrama_tiempo')">ğŸ’¾ Descargar Diagrama</button>
        </div>

        <!-- Diagrama 7: General de InteracciÃ³n -->
        <div class="diagram-section">
            <h2>7. Diagrama General de InteracciÃ³n</h2>
            <p>Integra mÃºltiples escenarios del sistema mostrando cÃ³mo se relacionan entre sÃ­.</p>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph SD1["ğŸ“ Registro de Pedido"]
        SD1_Start[Vendedor inicia pedido] --> SD1_Valid[Validar cliente]
        SD1_Valid --> SD1_Add[Agregar productos]
        SD1_Add --> SD1_Check{Stock disponible?}
        SD1_Check -->|SÃ­| SD1_Confirm[Confirmar pedido]
        SD1_Check -->|No| SD1_Alert[Alertar falta stock]
        SD1_Alert --> SD1_Add
        SD1_Confirm --> SD1_End[âœ… Pedido registrado]
    end
    
    subgraph SD2["ğŸ“¦ GestiÃ³n de Inventario"]
        SD2_Start[Admin actualiza stock] --> SD2_Get[Obtener stock actual]
        SD2_Get --> SD2_Calc[Calcular nuevo stock]
        SD2_Calc --> SD2_Save[Guardar en BD]
        SD2_Save --> SD2_Check{Stock bajo?}
        SD2_Check -->|SÃ­| SD2_Alert[Generar alerta]
        SD2_Check -->|No| SD2_Sync
        SD2_Alert --> SD2_Sync[Sincronizar web]
        SD2_Sync --> SD2_End[âœ… Inventario actualizado]
    end
    
    subgraph SD3["ğŸŒ SincronizaciÃ³n Web"]
        SD3_Start[Evento de cambio] --> SD3_Detect[Detectar cambio]
        SD3_Detect --> SD3_Prep[Preparar datos]
        SD3_Prep --> SD3_Send[Enviar a servidor]
        SD3_Send --> SD3_Update[Actualizar catÃ¡logo]
        SD3_Update --> SD3_Confirm[Confirmar]
        SD3_Confirm --> SD3_End[âœ… Web actualizada]
    end
    
    subgraph SD4["ğŸ‘¨â€ğŸ³ Proceso de ProducciÃ³n"]
        SD4_Start[Pedido confirmado] --> SD4_Assign[Asignar a producciÃ³n]
        SD4_Assign --> SD4_Prep[Estado: Preparando]
        SD4_Prep --> SD4_Elab[Estado: Elaborando]
        SD4_Elab --> SD4_Pack[Estado: Empaquetando]
        SD4_Pack --> SD4_Ready[Estado: Listo]
        SD4_Ready --> SD4_Notify[Notificar cliente]
        SD4_Notify --> SD4_End[âœ… Listo para entrega]
    end
    
    subgraph SD5["ğŸ“Š GeneraciÃ³n de Reportes"]
        SD5_Start[Admin solicita reporte] --> SD5_Select[Seleccionar tipo]
        SD5_Select --> SD5_Filter[Aplicar filtros]
        SD5_Filter --> SD5_Query[Consultar BD]
        SD5_Query --> SD5_Proc[Procesar datos]
        SD5_Proc --> SD5_Gen[Generar reporte]
        SD5_Gen --> SD5_Export{Exportar?}
        SD5_Export -->|SÃ­| SD5_PDF[Generar PDF/Excel]
        SD5_Export -->|No| SD5_Show
        SD5_PDF --> SD5_Show[Mostrar reporte]
        SD5_Show --> SD5_End[âœ… Reporte completado]
    end
    
    Start([ğŸš€ Sistema Cardamomo]) --> SD1_Start
    Start --> SD2_Start
    Start --> SD3_Start
    
    SD1_End -.->|Trigger| SD3_Start
    SD1_End -.->|Trigger| SD4_Start
    SD2_End -.->|Trigger| SD3_Start
    
    SD4_End --> Finish([ğŸ Fin del proceso])
    SD5_End --> Finish
    
    style Start fill:#95e1d3,stroke:#38d9a9,stroke-width:3px
    style Finish fill:#51cf66,stroke:#2f9e44,stroke-width:3px
    style SD1_Check fill:#ff9ff3,stroke:#e64980,stroke-width:2px
    style SD2_Check fill:#ff9ff3,stroke:#e64980,stroke-width:2px
    style SD5_Export fill:#ff9ff3,stroke:#e64980,stroke-width:2px
    style SD1_End fill:#ffd93d,stroke:#fab005,stroke-width:2px
    style SD2_End fill:#ffd93d,stroke:#fab005,stroke-width:2px
    style SD3_End fill:#ffd93d,stroke:#fab005,stroke-width:2px
    style SD4_End fill:#ffd93d,stroke:#fab005,stroke-width:2px
    style SD5_End fill